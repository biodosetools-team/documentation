<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Package implementation | Biodose Tools</title>
<meta name="author" content="Alfredo Hernández, Joan Francesc Barquinero">
<meta name="description" content="The development of {biodosetools} started in 2018 in the frame of RENEB (Running the European Network of Biological and retrospective Physical dosimetry), one of whose purposes is to standardise...">
<meta name="generator" content="bookdown 0.30 with bs4_book()">
<meta property="og:title" content="Chapter 2 Package implementation | Biodose Tools">
<meta property="og:type" content="book">
<meta property="og:image" content="/images/cover.png">
<meta property="og:description" content="The development of {biodosetools} started in 2018 in the frame of RENEB (Running the European Network of Biological and retrospective Physical dosimetry), one of whose purposes is to standardise...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Package implementation | Biodose Tools">
<meta name="twitter:description" content="The development of {biodosetools} started in 2018 in the frame of RENEB (Running the European Network of Biological and retrospective Physical dosimetry), one of whose purposes is to standardise...">
<meta name="twitter:image" content="/images/cover.png">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.4.1/transition.js"></script><script src="libs/bs3compat-0.4.1/tabs.js"></script><script src="libs/bs3compat-0.4.1/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link rel="icon" type="image/x-icon" href="favicon.png">
<link rel="icon" sizes="192x192" href="favicon-highres.png">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="User Manual &amp; Documentation">Biodose Tools</a>:
        <small class="text-muted">User Manual &amp; Documentation</small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li><a class="" href="intro.html"><span class="header-section-number">1</span> Introduction</a></li>
<li><a class="active" href="package.html"><span class="header-section-number">2</span> Package implementation</a></li>
<li class="book-part">Using Biodose Tools</li>
<li><a class="" href="manual-get.html"><span class="header-section-number">3</span> Getting Biodose Tools</a></li>
<li><a class="" href="manual-use-shiny.html"><span class="header-section-number">4</span> Usage (web UI)</a></li>
<li><a class="" href="manual-use-r.html"><span class="header-section-number">5</span> Usage (R API)</a></li>
<li><a class="" href="technical-matters.html"><span class="header-section-number">6</span> Technical matters</a></li>
<li class="book-part">Statistical Methods</li>
<li><a class="" href="stats-considerations.html"><span class="header-section-number">7</span> Statistical considerations</a></li>
<li><a class="" href="stats-fitting.html"><span class="header-section-number">8</span> Dose-effect curve fitting</a></li>
<li><a class="" href="stats-estimation.html"><span class="header-section-number">9</span> Uncertainty on dose estimation</a></li>
<li class="book-part">Appendices</li>
<li><a class="" href="appendix-feedback.html"><span class="header-section-number">A</span> Feedback and issues</a></li>
<li><a class="" href="appendix-cite.html"><span class="header-section-number">B</span> How to cite Biodose Tools</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          <p><a id="book-repo" href="https://github.com/biodosetools-team/documentation">View book source <i class="fab fa-github"></i></a></p>
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="package" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Package implementation<a class="anchor" aria-label="anchor" href="#package"><i class="fas fa-link"></i></a>
</h1>
<p>The development of {biodosetools} started in 2018 in the frame of <a href="http://www.reneb.net">RENEB</a> (Running the European Network of Biological and retrospective Physical dosimetry), one of whose purposes is to standardise methodology for individualised dose estimation from biological methods to statistical ones. Since no unique method exists for the different mathematical processes involved in biological dosimetry, several meetings and periodic correspondence were held in order to reach a consensus on the solutions to be implemented and, in particular, the solutions to be proposed as default.</p>
<p>As of version 3.6.1 (November 2022), {biodosetools} supports dose-effect fitting and dose estimation for the following biodosimetry assays:</p>
<ul>
<li>Dicentric assay.</li>
<li>Translocation assay.</li>
</ul>
<p>The {biodosetools} package is available from CRAN and can be installed using the standard R tools. In Table <a href="package.html#tab:functions-list">2.1</a> we list all the functions available to the user through the R API provided by {biodosetools}.</p>
<div class="inline-table"><table class="table table-sm">
<caption>
<span id="tab:functions-list">Table 2.1: </span>List of available functions in the {biodosetools} package. The comprehensive functions reference can be found on the project’s website at <a href="https://biodosetools-team.github.io/biodosetools/reference/" class="uri">https://biodosetools-team.github.io/biodosetools/reference/</a>.</caption>
<colgroup>
<col width="6%">
<col width="93%">
</colgroup>
<thead><tr class="header">
<th align="left">Usage</th>
<th align="left">Functions</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">Fitting</td>
<td align="left">
<code>fit()</code>, <code>plot_fit_dose_curve()</code>
</td>
</tr>
<tr class="even">
<td align="left">Estimation</td>
<td align="left">
<code>estimate_whole_body_merkle()</code>, <code>estimate_whole_body_delta()</code>, <code>estimate_partial_body_dolphin()</code>, <code>estimate_hetero_mixed_poisson()</code>, <code>plot_estimated_dose_curve()</code>
</td>
</tr>
<tr class="odd">
<td align="left">Auxiliary</td>
<td align="left">
<code>calculate_aberr_table()</code>, <code>protracted_g_function()</code>, <code>calculate_genome_fraction()</code>, <code>calculate_trans_rate_manual()</code>, <code>calculate_trans_rate_sigurdson()</code>
</td>
</tr>
<tr class="even">
<td align="left">{shiny} app</td>
<td align="left"><code>run_app()</code></td>
</tr>
</tbody>
</table></div>
<div id="package-list" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Used packages<a class="anchor" aria-label="anchor" href="#package-list"><i class="fas fa-link"></i></a>
</h2>
<p>Naturally, {biodosetools} is built on other packages. Data transformations and wrangling are done through {dplyr} <span class="citation">(<a href="references.html#ref-R-dplyr" role="doc-biblioref">Wickham et al. 2022</a>)</span>, {tidyr} <span class="citation">(<a href="references.html#ref-R-tidyr" role="doc-biblioref">Wickham and Girlich 2022</a>)</span>, {rlang} <span class="citation">(<a href="references.html#ref-R-rlang" role="doc-biblioref">Henry and Wickham 2022</a>)</span>, and {magrittr} <span class="citation">(<a href="references.html#ref-R-magrittr" role="doc-biblioref">Bache and Wickham 2022</a>)</span>, while visualisations are done using {ggplot2} <span class="citation">(<a href="references.html#ref-ggplot22016" role="doc-biblioref">Wickham 2016</a>)</span>. All of the aforementioned packages are part of the {tidyverse} meta-package <span class="citation">(<a href="#ref-tidyverse2019" role="doc-biblioref"><strong>tidyverse2019?</strong></a>)</span>.</p>
<p>While most statistical calculations are implemented ad-hoc with the {stats} <span class="citation">(<a href="references.html#ref-R-base" role="doc-biblioref">R Core Team 2022</a>)</span> package, we rely in additional packages for some statistical analyses, such as {maxLik} <span class="citation">(<a href="references.html#ref-maxLik2011" role="doc-biblioref">Henningsen and Toomet 2011</a>)</span>, {mixtools} <span class="citation">(<a href="references.html#ref-mixtools2009" role="doc-biblioref">Benaglia et al. 2009</a>)</span>, {MASS} <span class="citation">(<a href="references.html#ref-MASS2002" role="doc-biblioref">Venables and Ripley 2002</a>)</span>, and {msm} <span class="citation">(<a href="references.html#ref-msm2011" role="doc-biblioref">Jackson 2011</a>)</span>.</p>
<p>For improved legibility, messages and warnings in the command line interface are constructed using {cli} <span class="citation">(<a href="references.html#ref-R-cli" role="doc-biblioref">Csárdi 2022</a>)</span>.</p>
</div>
<div id="user-interface-using-shiny" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> User interface using {shiny}<a class="anchor" aria-label="anchor" href="#user-interface-using-shiny"><i class="fas fa-link"></i></a>
</h2>
<p>The Biodose Tools user interface is written in R {shiny} <span class="citation">(<a href="references.html#ref-R-shiny" role="doc-biblioref">Chang et al. 2022</a>)</span> using Bootstrap 3, via the {shinydashboard} <span class="citation">(<a href="references.html#ref-R-shinydashboard" role="doc-biblioref">Chang and Borges Ribeiro 2021</a>)</span>, {shinyWidgets} <span class="citation">(<a href="references.html#ref-R-shinyWidgets" role="doc-biblioref">Perrier, Meyer, and Granjon 2022</a>)</span>, and {bsplus} <span class="citation">(<a href="references.html#ref-R-bsplus" role="doc-biblioref">Lyttle 2022</a>)</span> packages, and the {golem} <span class="citation">(<a href="references.html#ref-R-golem" role="doc-biblioref">Fay et al. 2022</a>)</span> framework. Analyses are implemented in the R programming language <span class="citation">(<a href="references.html#ref-R-base" role="doc-biblioref">R Core Team 2022</a>)</span>, with the resultant tables and plots rendered in HTML through JavaScript libraries, via either native {shiny} or {rhandsontable} <span class="citation">(<a href="references.html#ref-R-rhandsontable" role="doc-biblioref">Owen 2021</a>)</span>. This is done by the JavaScript engine shipped on browser of choice, or by an instance of QtWebKit if the app is run within RStudio.</p>
<p>The {shiny} app allows to download processed count or case data via {xtable} <span class="citation">(<a href="references.html#ref-R-xtable" role="doc-biblioref">Dahl et al. 2019</a>)</span>. Similarly, it allows to generate and download reports, which are rendered using {rmarkdown} <span class="citation">(<a href="references.html#ref-R-rmarkdown" role="doc-biblioref">Allaire et al. 2022</a>)</span> and Pandoc <span class="citation">(<a href="references.html#ref-MacFarlane2022" role="doc-biblioref">MacFarlane 2022</a>)</span> to convert a native <code>.Rmd</code> document directly into a Office Open XML <code>.docx</code> document, or a <code>.pdf</code> file built from an intermediary <code>.tex</code> file using <span class="citation">(<a href="references.html#ref-Lamport1994" role="doc-biblioref">Lamport 1994</a>)</span>.</p>
<p>In Biodose Tools colour is used to identify different sections of information, a technique called colour-coding. In particular, Biodose Tools uses four colours to code information: (a) blue for options and settings, (b) purple for data input, (c) green for results, and (d) orange for exporting results. Figure <a href="package.html#fig:ui-color-coding-mockup">2.1</a> shows a simple mock-up of how the four types of boxes and corresponding widgets would fit together in one of the {shiny} app’s modules.</p>
<div class="figure" style="text-align: center">
<span style="display:block;" id="fig:ui-color-coding-mockup"></span>
<img src="images/ui-color-coding-mockup.svg" alt="Mock-up illustrating Biodose Tools' colour coding to create an intuitive visual organisation of the user interface." width="60%"><p class="caption">
Figure 2.1: Mock-up illustrating Biodose Tools’ colour coding to create an intuitive visual organisation of the user interface.
</p>
</div>

</div>
</div>



<div class="chapter-nav">
<div class="prev"><a href="intro.html"><span class="header-section-number">1</span> Introduction</a></div>
<div class="next"><a href="manual-get.html"><span class="header-section-number">3</span> Getting Biodose Tools</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#package"><span class="header-section-number">2</span> Package implementation</a></li>
<li><a class="nav-link" href="#package-list"><span class="header-section-number">2.1</span> Used packages</a></li>
<li><a class="nav-link" href="#user-interface-using-shiny"><span class="header-section-number">2.2</span> User interface using {shiny}</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
<li><a id="book-source" href="https://github.com/biodosetools-team/documentation/blob/master/contents/01d_package.Rmd">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="https://github.com/biodosetools-team/documentation/edit/master/contents/01d_package.Rmd">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
</div>
    </nav>
</div>
</div>
  

  

</div>
 <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>Biodose Tools</strong>: User Manual &amp; Documentation" was written by Alfredo Hernández, Joan Francesc Barquinero. It was last built on 2022-12-10.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
